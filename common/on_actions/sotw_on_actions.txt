on_actions = {
	on_startup = {
		effect = {
			# Game rules
			if = {
				limit = {
					has_game_rule = {
						rule = renaming_of_states_setting
						option = PHOHIBIT_RENAMING
					}
				}
				set_global_flag = sotw_state_renaming_disabled_flag
			}
			#one-time renaming upon the game start if player decided to use state renaming game rule - Fantom
			if = {
				#placed here to make sure it happends in decolonized/fragmented world toos
				limit = {
					NOT = {
						has_global_flag = sotw_state_renaming_disabled_flag
					}
				}
				every_state = {
					meta_effect = {
						text = {
							FAK = {
								FAK_lord_debug = {
									set_character_name = STATE_[STATE_NUMBER]_RENAMING
								}
							}
						}
						STATE_NUMBER = "[THIS.getID]"
					}
					meta_effect = {
						text = {
							THIS = {
								set_state_name = "[NEW_STATE_NAME]"
							}
						}
						NEW_STATE_NAME = "[FAK.GetLeader]"
					}
				}
			}
		}
	}
	###---> On State Control Changed <><> <><> <><>
	#ROOT is new controller #FROM is old controller #FROM.FROM is state ID
	on_state_control_changed = {
		effect = {
			if = {
				#state renaming tool for possible dynamical name changes, inspired by Kaiserreichs way to do that (in particular, the presence of meta effects) - Fantom
				limit = {
					NOT = {
						has_global_flag = sotw_state_renaming_disabled_flag
					}
				}
				meta_effect = {
					text = {
						FAK = {
							FAK_lord_debug = {
								set_character_name = STATE_[STATE_NUMBER]_RENAMING
							}
						}
					}
					STATE_NUMBER = "[FROM.FROM.getID]"
				}
				meta_effect = {
					text = {
						FROM.FROM = {
							set_state_name = "[NEW_STATE_NAME]"
						}
					}
					NEW_STATE_NAME = "[FAK.GetLeader]"
				}
			}
		}
	}
}
