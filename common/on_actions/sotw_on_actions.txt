on_actions = {
	### State / City name changing ###
	on_startup = {
		effect = {
            if = {
                limit = {
                    NOT = {
                        has_global_flag = endonyms_enabled
                    }
                }
				set_global_flag = endonyms_enabled
				every_state = {
						state_control_change_effect = yes
				}
            }
        }
	}
	
	on_ruling_party_change = {
		effect = {
			if = {
				limit = {
					has_global_flag = endonyms_enabled 
				}
				ROOT.ROOT = {
					every_state = {
						state_control_change_effect = yes
					}
				}
			}
		}
	}
	
	on_subject_autonomy_level_change = {
		effect = {
			if = {
				limit = {
					has_global_flag = endonyms_enabled
				}
				ROOT.ROOT = {
					every_state = {
						state_control_change_effect = yes
					}
				}
			}
		}
	}

	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					has_global_flag = endonyms_enabled
				}
				FROM.FROM = {
					state_control_change_effect = yes
				}
			}
		}
	}

	on_capitulation = {
		effect = {
			if = {
				limit = {
					has_global_flag = endonyms_enabled
				}
				ROOT.ROOT = {
					every_state = {
						state_control_change_effect = yes
					}
				}
			}
		}
    }

	on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					has_global_flag = endonyms_enabled
				}
				FROM.FROM = {
					every_state = {
						state_control_change_effect = yes
					}
				}
			}
		}
    }

    # ROOT is winner, FROM gets annexed.
    on_annex  = {
		effect = {
			if = {
				limit = {
					has_global_flag = endonyms_enabled
				}
				FROM.FROM = {
					every_state = {
						state_control_change_effect = yes
					}
				}
			}
		}
    }
	### END OF STATE / CITY NAME CHANGING ###
	# Automatically give military access to countries you are sending volunteers to
	on_send_volunteers = {
		effect = {
			if = {
				limit = {
					ROOT = {
						not = {
							has_military_access_to = FROM
						}
					}
				}
				ROOT = {
					set_country_flag = sotw_volunteer_sender
				}
				FROM = {
					give_military_access = ROOT
				}
				FROM = {
					set_country_flag = sotw_volunteer_receiever
				}
			}
		}
	}
	on_daily = {
		effect  = {
			every_country = {
				limit = {
					is_ai = yes
					has_country_flag = {
						flag = sotw_volunteer_receiever
						days > 20
					}
				}
				every_other_country = {
					limit = {
						has_country_flag = sotw_volunteer_sender
						PREV = {
							has_volunteers_amount_from = {
								tag = PREV
								count < 1
							}
						}
					}
					diplomatic_relation = {
						country = PREV
						relation = military_access
						active = no
					}
					clr_country_flag = sotw_volunteer_sender
					PREV = {
						clr_country_flag = sotw_volunteer_receiever
					}
				}
			}
		}
	}
}