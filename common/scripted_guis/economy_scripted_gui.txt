scripted_gui = {
	economy_button_constructiontab = {
		context_type = player_context
		parent_window_token = construction_tab
		window_name = "open_economy_container"

		visible = {
			always = yes
		}

		effects = {
			open_economy_click = {
				if = {
					limit = { NOT = { has_country_flag = open_economy_screen } }
					set_country_flag = open_economy_screen
				}
				else = {
					clr_country_flag = open_economy_screen
				}
			}
		}
	}

	economics_view_constructiontab = {
		context_type = player_context
		parent_window_token = construction_tab
		window_name = "countryeconomicsview"

		visible = {
			ROOT = {
				OR = {
					is_ai = yes
					has_country_flag = open_economy_screen
				}
			}
		}

		properties = {
			economy_budget_balance_progress = { frame = expense_percentage }
			economy_energy_balance_progress = { frame = energy_usage_percentage }
		}

		triggers = {
			# Population taxes
			population_tax_rate_plus_click_enabled = {
				check_variable = { var = population_tax_rate value = 0 compare = greater_than_or_equals }
				check_variable = { var = population_tax_rate value = 50 compare = less_than }
				NOT = { has_country_flag = no_personal_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change }
				if = { limit = { is_ai = yes }
					NOT = { has_country_flag = temp_decrease_population_taxes }
				}
			}
			population_tax_rate_plus_shift_click_enabled = { #56-60 NO
				check_variable = { var = population_tax_rate value = 0 compare = greater_than_or_equals }
				check_variable = { var = population_tax_rate value = 45 compare = less_than_or_equals }
				NOT = { has_country_flag = no_personal_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change_5 }
			}
			population_tax_rate_minus_click_enabled = {
				check_variable = { var = population_tax_rate value = 0 compare = greater_than }
				NOT = { has_country_flag = no_personal_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change }
				if = { limit = { is_ai = yes }
					NOT = { has_country_flag = temp_increase_population_taxes }
				}
			}
			population_tax_rate_minus_shift_click_enabled = { #0-5 NO
				check_variable = { var = population_tax_rate value = 5 compare = greater_than_or_equals }
				check_variable = { var = population_tax_rate value = 50 compare = less_than_or_equals }
				NOT = { has_country_flag = no_personal_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change_5 }
			}

			# Corporate Taxes
			corporate_tax_rate_plus_click_enabled = {
				check_variable = { var = corporate_tax_rate value = 0 compare = greater_than_or_equals }
				check_variable = { var = corporate_tax_rate value = 50 compare = less_than }
				NOT = { has_country_flag = no_corporate_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change }
				if = { limit = { is_ai = yes }
					NOT = { has_country_flag = temp_decrease_corporate_taxes }
				}
			}
			corporate_tax_rate_plus_shift_click_enabled = {
				check_variable = { var = corporate_tax_rate value = 0 compare = greater_than_or_equals }
				check_variable = { var = corporate_tax_rate value = 45 compare = less_than_or_equals }
				NOT = { has_country_flag = no_corporate_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change_5 }
			}
			corporate_tax_rate_minus_click_enabled = {
				check_variable = { var = corporate_tax_rate value = 0 compare = greater_than }
				check_variable = { var = corporate_tax_rate value = 50 compare = less_than_or_equals }
				NOT = { has_country_flag = no_corporate_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change }
				if = { limit = { is_ai = yes }
					NOT = { has_country_flag = temp_increase_corporate_taxes }
				}
			}
			corporate_tax_rate_minus_shift_click_enabled = {
				check_variable = { var = corporate_tax_rate value = 5 compare = greater_than_or_equals }
				check_variable = { var = corporate_tax_rate value = 50 compare = less_than_or_equals }
				NOT = { has_country_flag = no_corporate_tax_rate_change }
				ROOT = { has_political_power > tax_rate_change_5 }
			}

			# Lease factories buttons
			# This action increases the number of leased military factories
			lease_military_factories_click_enabled = {
				#check_variable = { leased_military_factories < 20 } #use this as an hard cap on amount of mils leasable
			}
			lease_military_factories_right_click_enabled = {
				check_variable = { leased_military_factories > 0 }
			}
			# This action increases the number of leased civilian factories
			lease_civilian_factories_click_enabled = {
				#check_variable = { leased_civilian_factories < 20 } #use this as an hard cap on amount of civs leasable
			}
			lease_civilian_factories_right_click_enabled = {
				check_variable = { leased_civilian_factories > 0 }
			}
			# This action increases the number of leased dockyards
			lease_naval_dockyards_click_enabled = {
				#check_variable = { leased_dockyards < 20 } #use this as an hard cap on amount of dockyards leasable
			}
			lease_naval_dockyards_right_click_enabled = {
				check_variable = { leased_dockyards > 0 }
			}

			# Projects
			# This action triggers a hidden idea to increase industrial complex construction speed
			projects_civilian_factories_click_enabled = {
				NOT = {
					has_country_flag = infrastructure_investiture_flag
					has_country_flag = service_constructions_flag
					has_country_flag = arms_industry_stipends_flag
					has_country_flag = retool_shipyards_flag
				}
			}
			# This action triggers a hidden idea to increase office construction speed
			projects_offices_click_enabled = {
				NOT = {
					has_country_flag = infrastructure_investiture_flag
					has_country_flag = industrial_projects_flag
					has_country_flag = arms_industry_stipends_flag
					has_country_flag = retool_shipyards_flag
				}
			}
			# This action triggers a hidden idea to increase infrastructure construction speed
			projects_infrastructure_click_enabled = {
				NOT = {
					has_country_flag = service_constructions_flag
					has_country_flag = industrial_projects_flag
					has_country_flag = arms_industry_stipends_flag
					has_country_flag = retool_shipyards_flag
				}
			}
			# This action triggers a hidden idea to increase arms military construction speed
			projects_military_factories_click_enabled = {
				NOT = {
					has_country_flag = infrastructure_investiture_flag
					has_country_flag = industrial_projects_flag
					has_country_flag = service_constructions_flag
					has_country_flag = retool_shipyards_flag
				}
			}
			# - Retool Shipyards
			# This action triggers a hidden idea to increase naval dockyard construction speed
			# projects_naval_dockyards_click_enabled = {
			# 	NOT = {
			# 		has_country_flag = infrastructure_investiture_flag
			# 		has_country_flag = industrial_projects_flag
			# 		has_country_flag = service_constructions_flag
			# 		has_country_flag = arms_industry_stipends_flag
			# 	}
			# }

			# Employment buttons
						# - Military Factories Employent
			# This action increases employment in this building type
			military_factory_employment_button_right_click_enabled = {
				has_political_power > 20
			}
			# - Civilian Factories Employent
			# This action increases employment in this building type
			civilian_factory_employment_button_right_click_enabled = {
				has_political_power > 20
			}
			# - Naval Factories Employent
			# This action increases employment in this building type
			naval_factory_employment_button_right_click_enabled = {
				has_political_power > 20
			}
			# - Offices Employent
			# This action increases employment in this building type
			office_employment_button_click_right_enabled = {
				has_political_power > 20
			}

			# - Military Factories Employent
			# This action reduces employment in this building type
			military_factory_employment_button_click_enabled = {
				has_political_power > 20
			}
			# - Civilian Factories Employent
			# This action reduces employment in this building type
			civilian_factory_employment_button_click_enabled = {
				has_political_power > 20
			}
			# - Naval Factories Employent
			# This action reduces employment in this building type
			naval_factory_employment_button_click_enabled = {
				has_political_power > 20
			}
			# - Offices Employent
			# This action reduces employment in this building type
			office_employment_button_click_enabled = {
				has_political_power > 20
			}

			# Right side bottom bar buttons
			build_battery_park_button_click_enabled = {
				#NOT = { has_active_mission = bankruptcy_incoming_collapse }
				#has_tech = utility_scale_battery_storage
			}
			buy_fuel_for_money_button_click_enabled = {
				#NOT = { has_active_mission = bankruptcy_incoming_collapse }
				if = { limit = { has_country_flag = recently_bought_fuel }
					custom_trigger_tooltip = {
						tooltip = recently_bought_fuel_tt
						NOT = { has_country_flag = recently_bought_fuel }
					}
				}
			}
		}

		effects = {
			# Header Buttons
			open_construction_click = {
				if = {
					limit = { NOT = { has_country_flag = open_economy_screen } }
					set_country_flag = open_economy_screen
				}
				else = {
					clr_country_flag = open_economy_screen
				}
			}
			close_button_click = {
				clr_country_flag = open_economy_screen
			}
			# Population tax rate buttons
			population_tax_rate_plus_click = {
				set_temp_variable = { tax_rate_change_temp = tax_rate_change }
				multiply_temp_variable = { tax_rate_change_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_temp }
				set_temp_variable = { previous_tax_rate = population_tax_rate }
				add_to_variable = { population_tax_rate = 1 }
				clamp_variable = {
					var = population_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1050 Pop Tax Rate Increases: Old Pop Taxes: [?previous_tax_rate]%, New Pop Taxes:[?population_tax_rate]% (Balance:[?treasury_rate])"
				if = { limit = { is_ai = yes }
					set_country_flag = { flag = temp_increase_population_taxes value = 1 days = 3 }
				}
			}
			population_tax_rate_plus_shift_click = {
				set_temp_variable = { tax_rate_change_5_temp = tax_rate_change_5 }
				multiply_temp_variable = { tax_rate_change_5_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_5_temp }
				set_temp_variable = { previous_tax_rate = population_tax_rate }
				add_to_variable = { population_tax_rate = 5 }
				clamp_variable = {
					var = population_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1051 Pop Tax Rate +5 Increase: Old Pop Taxes: [?previous_tax_rate]%, New Pop Taxes:[?population_tax_rate]% (Balance:[?treasury_rate])"
			}
			population_tax_rate_minus_click = {
				set_temp_variable = { tax_rate_change_temp = tax_rate_change }
				multiply_temp_variable = { tax_rate_change_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_temp }
				set_temp_variable = { previous_tax_rate = population_tax_rate }
				subtract_from_variable = { population_tax_rate = 1 }
				clamp_variable = {
					var = population_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1052 Pop Tax Rate Decrease: Old Pop Taxes: [?previous_tax_rate]%, New Pop Taxes:[?population_tax_rate]% (Balance:[?treasury_rate])"
				if = { limit = { is_ai = yes }
					set_country_flag = { flag = temp_decrease_population_taxes value = 1 days = 3 }
				}
			}
			population_tax_rate_minus_shift_click = {
				set_temp_variable = { tax_rate_change_5_temp = tax_rate_change_5 }
				multiply_temp_variable = { tax_rate_change_5_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_5_temp }
				set_temp_variable = { previous_tax_rate = population_tax_rate }
				subtract_from_variable = { population_tax_rate = 5 }
				clamp_variable = {
					var = population_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1053 Pop Tax Rate -5 Decrease: Old Pop Taxes: [?previous_tax_rate]%, New Pop Taxes:[?population_tax_rate]% (Balance:[?treasury_rate])"
			}
			# Corporate tax rate buttons
			corporate_tax_rate_plus_click = {
				set_temp_variable = { tax_rate_change_temp = tax_rate_change }
				multiply_temp_variable = { tax_rate_change_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_temp }
				set_temp_variable = { previous_tax_rate = corporate_tax_rate }
				add_to_variable = { corporate_tax_rate = 1 }
				clamp_variable = {
					var = corporate_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1054 Corp Tax Rate Increase: Old Corp Taxes: [?previous_tax_rate]%, New Corp Taxes:[?corporate_tax_rate]% (Balance:[?treasury_rate])"
				if = { limit = { is_ai = yes }
					set_country_flag = { flag = temp_increase_corporate_taxes value = 1 days = 3 }
				}
			}
			corporate_tax_rate_plus_shift_click = {
				set_temp_variable = { tax_rate_change_5_temp = tax_rate_change_5 }
				multiply_temp_variable = { tax_rate_change_5_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_5_temp }
				set_temp_variable = { previous_tax_rate = corporate_tax_rate }
				add_to_variable = { corporate_tax_rate = 5 }
				clamp_variable = {
					var = corporate_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1055 Corp Tax Rate +5 Increase: Old Corp Taxes: [?previous_tax_rate]%, New Corp Taxes:[?corporate_tax_rate]% (Balance:[?treasury_rate])"
			}
			corporate_tax_rate_minus_click = {
				set_temp_variable = { tax_rate_change_temp = tax_rate_change }
				multiply_temp_variable = { tax_rate_change_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_temp }
				set_temp_variable = { previous_tax_rate = corporate_tax_rate }
				subtract_from_variable = { corporate_tax_rate = 1 }
				clamp_variable = {
					var = corporate_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1056 Corp Tax Rate Decrease: Old Corp Taxes: [?previous_tax_rate]%, New Corp Taxes:[?corporate_tax_rate]% (Balance:[?treasury_rate])"
				if = { limit = { is_ai = yes }
					set_country_flag = { flag = temp_decrease_corporate_taxes value = 1 days = 3 }
				}
			}
			corporate_tax_rate_minus_shift_click = {
				set_temp_variable = { tax_rate_change_5_temp = tax_rate_change_5 }
				multiply_temp_variable = { tax_rate_change_5_temp = -1 }
				ROOT = { add_political_power = tax_rate_change_5_temp }
				set_temp_variable = { previous_tax_rate = corporate_tax_rate }
				subtract_from_variable = { corporate_tax_rate = 5 }
				clamp_variable = {
					var = corporate_tax_rate
					min = 0
					max = 50
				}
				ingame_update_setup = yes
				#log = "[GetDateText]: [THIS.GetName]: DEBUG: 1057 Corp Tax Rate -5 Decrease: Old Corp Taxes: [?previous_tax_rate]%, New Corp Taxes:[?corporate_tax_rate]% (Balance:[?treasury_rate])"
			}

			# Lease decisions
			# This action increases the amount of leased military factories by 1
			lease_military_factories_click = {
				if = { limit = { NOT = { check_variable = { leased_factories = 20 } } }
					if = { limit = { NOT = { has_country_flag = lease_military_factories_flag } }
						set_country_flag = lease_military_factories_flag
					}
					add_offsite_building = { level = 1 type = arms_factory }
					add_to_variable = { leased_military_factories = 1 }
					add_to_variable = { leased_factories = 1 }
					add_to_variable = { lease_factories_cumulative_cost = leased_factories }
					ingame_update_setup = yes
				}
			}
			# This action decreases the amount of leased military factories by 1
			lease_military_factories_right_click = {
				if = { limit = { NOT = { check_variable = { leased_factories = 0 } } }
					if = { limit = { check_variable = { leased_military_factories = 1 } }
						clr_country_flag = lease_military_factories_flag
					}
					add_offsite_building = { level = -1 type = arms_factory }
					subtract_from_variable = { lease_factories_cumulative_cost = leased_factories }
					add_to_variable = { leased_military_factories = -1 }
					add_to_variable = { leased_factories = -1 }
					ingame_update_setup = yes
				}
			}
			# This action increases the amount of leased civilian factories by 1
			lease_civilian_factories_click = {
				if = { limit = { NOT = { check_variable = { leased_factories = 20 } } }
					if = { limit = { NOT = { has_country_flag = lease_civilian_factories_flag } }
						set_country_flag = lease_civilian_factories_flag
					}
					add_offsite_building = { level = 1 type = industrial_complex }
					add_to_variable = { leased_civilian_factories = 1 }
					add_to_variable = { leased_factories = 1 }
					add_to_variable = { lease_factories_cumulative_cost = leased_factories }
					ingame_update_setup = yes
				}
				}
			# This action decreases the amount of leased civilian factories by 1
			lease_civilian_factories_right_click = {
				if = { limit = { NOT = { check_variable = { leased_factories = 0 } } }
					if = { limit = { check_variable = { leased_civilian_factories = 1 } }
						clr_country_flag = lease_civilian_factories_flag
					}
					add_offsite_building = { level = -1 type = industrial_complex }
					subtract_from_variable = { lease_factories_cumulative_cost = leased_factories }
					add_to_variable = { leased_civilian_factories = -1 }
					add_to_variable = { leased_factories = -1 }
					ingame_update_setup = yes
				}
			}
			# This action increases the amount of leased dockyards by 1
			lease_naval_dockyards_click = {
				if = { limit = { NOT = { check_variable = { leased_factories = 20 } } }
					if = { limit = { NOT = { has_country_flag = lease_naval_dockyards_flag } }
						set_country_flag = lease_naval_dockyards_flag
					}
					add_offsite_building = { level = 1 type = dockyard }
					add_to_variable = { leased_dockyards = 1 }
					add_to_variable = { leased_factories = 1 }
					add_to_variable = { lease_factories_cumulative_cost = leased_factories }
					ingame_update_setup = yes
				}
			}
			# This action decreases the amount of leased dockyards by 1
			lease_naval_dockyards_right_click = {
				if = { limit = { NOT = { check_variable = { leased_factories = 0 } } }
					if = { limit = { check_variable = { leased_dockyards = 1 } }
						clr_country_flag = lease_naval_dockyards_flag
					}
					add_offsite_building = { level = -1 type = dockyard }
					subtract_from_variable = { lease_factories_cumulative_cost = leased_factories }
					add_to_variable = { leased_dockyards = -1 }
					add_to_variable = { leased_factories = -1 }
					ingame_update_setup = yes
				}
			}

			# Project buttons
			# This action triggers a hidden idea to increase industrial complex construction speed
			projects_civilian_factories_click = {
				custom_effect_tooltip = treasury_loss_projects_TT
				if = { limit = { NOT = { has_country_flag = industrial_projects_flag } }
					set_country_flag = industrial_projects_flag
					add_ideas = projects_civilian_factories_idea
				}
				else = {
					clr_country_flag = industrial_projects_flag
					remove_ideas = projects_civilian_factories_idea
				}
				ingame_update_setup = yes
			}
			# This action triggers a hidden idea to increase office construction speed
			projects_offices_click = {
				custom_effect_tooltip = treasury_loss_projects_TT
				if = { limit = { NOT = { has_country_flag = service_constructions_flag } }
					set_country_flag = service_constructions_flag
					add_ideas = projects_offices_idea
				}
				else = {
					clr_country_flag = service_constructions_flag
					remove_ideas = projects_offices_idea
				}
				ingame_update_setup = yes
			}
			# - Infrastructure Investiture
			# This action triggers a hidden idea to increase infrastructure construction speed
			projects_infrastructure_click = {
				custom_effect_tooltip = treasury_loss_projects_TT
				if = { limit = { NOT = { has_country_flag = infrastructure_investiture_flag } }
					set_country_flag = infrastructure_investiture_flag
					add_ideas = projects_infrastructure_idea
				}
				else = {
					clr_country_flag = infrastructure_investiture_flag
					remove_ideas = projects_infrastructure_idea
				}
				ingame_update_setup = yes
			}
			# This action triggers a hidden idea to increase arms military construction speed
			projects_military_factories_click = {
				custom_effect_tooltip = treasury_loss_projects_TT
				if = { limit = { NOT = { has_country_flag = arms_industry_stipends_flag } }
					set_country_flag = arms_industry_stipends_flag
					add_ideas = projects_military_factories_idea
				}
				else = {
					clr_country_flag = arms_industry_stipends_flag
					remove_ideas = projects_military_factories_idea
				}
				ingame_update_setup = yes
			}
			# - Retool Shipyards
			# This action triggers a hidden idea to increase naval dockyard construction speed
			# retool_shipyards_click = {
			# 	custom_effect_tooltip = treasury_loss_projects_TT
			# 	if = { limit = { NOT = { has_country_flag = retool_shipyards_flag } }
			# 		set_country_flag = retool_shipyards_flag
			# 		add_ideas = retool_shipyards_idea
			# 	}
			# 	else = {
			# 		clr_country_flag = retool_shipyards_flag
			# 		remove_ideas = retool_shipyards_idea
			# 	}
			# 	ingame_update_setup = yes
			# }

			# Employment buttons
						# - Military Factories Employent
			# This action reduces employment in this building type
			military_factory_employment_button_click = {
				if = {
					limit = {
						check_variable = { military_factory_employment_var = 0 }
					}
				}
				else = {
					add_to_variable = { military_factory_employment_var = -0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}
			# This action increases employment in this building type
			military_factory_employment_button_right_click = {
				if = {
					limit = {
						check_variable = { military_factory_employment_var = 1 }
					}
				}
				else = {
					add_to_variable = { military_factory_employment_var = 0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}
			# - Civilian Factories Employent
			# This action reduces employment in this building type
			civilian_factory_employment_button_click = {
				if = {
					limit = {
						check_variable = { civilian_factory_employment_var = 0 }
					}
				}
				else = {
					add_to_variable = { civilian_factory_employment_var = -0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}
			# This action increases employment in this building type
			civilian_factory_employment_button_right_click = {
				if = {
					limit = {
						check_variable = { civilian_factory_employment_var = 1 }
					}
				}
				else = {
					add_to_variable = { civilian_factory_employment_var = 0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}
			# - Naval Factories Employent
			# This action reduces employment in this building type
			naval_factory_employment_button_click = {
				if = {
					limit = {
						check_variable = { naval_factory_employment_var = 0 }
					}
				}
				else = {
					add_to_variable = { naval_factory_employment_var = -0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}
			# This action increases employment in this building type
			naval_factory_employment_button_right_click = {
				if = {
					limit = {
						check_variable = { naval_factory_employment_var = 1 }
					}
				}
				else = {
					add_to_variable = { naval_factory_employment_var = 0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}
			# - Offices Employent
			# This action reduces employment in this building type
			office_employment_button_click = {
				if = {
					limit = {
						check_variable = { office_employment_var = 0 }
					}
				}
				else = {
					add_to_variable = { office_employment_var = -0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}
			# This action increases employment in this building type
			office_employment_button_right_click = {
				if = {
					limit = {
						check_variable = { office_employment_var = 1 }
					}
				}
				else = {
					add_to_variable = { office_employment_var = 0.05 }
					add_political_power = -20
				}
				ingame_update_setup = yes
			}

			# Energy Restrictions/Encouragement
			heavy_power_restrictions_button_click = {
				#log = "[GetDateText]: [Root.GetName]: Energy GUI  heavy_power_restrictions_button_click"
				add_ideas = heavy_power_restrictions_spirit
				remove_ideas = {
					some_power_restrictions_spirit
					some_additional_consumption_spirit
					heavy_additional_consumption_spirit
				}
				ingame_update_setup = yes
			}
			some_power_restrictions_button_click = {
				#log = "[GetDateText]: [Root.GetName]: Energy GUI  some_power_restrictions_button_click"
				add_ideas = some_power_restrictions_spirit
				remove_ideas = {
					heavy_power_restrictions_spirit
					some_additional_consumption_spirit
					heavy_additional_consumption_spirit
				}
				ingame_update_setup = yes
			}
			no_power_rules_button_click = {
				#log = "[GetDateText]: [Root.GetName]: Energy GUI  no_power_rules_button_click"
				remove_ideas = {
					heavy_power_restrictions_spirit
					some_power_restrictions_spirit
					some_additional_consumption_spirit
					heavy_additional_consumption_spirit
				}
				ingame_update_setup = yes
			}
			some_additional_consumption_button_click = {
				#log = "[GetDateText]: [Root.GetName]: Energy GUI  some_additional_consumption_button_click"
				add_ideas = some_additional_consumption_spirit
				remove_ideas = {
					some_power_restrictions_spirit
					heavy_power_restrictions_spirit
					heavy_additional_consumption_spirit
				}
				ingame_update_setup = yes
			}
			heavy_additional_consumption_button_click = {
				#log = "[GetDateText]: [Root.GetName]: Energy GUI  heavy_additional_consumption_button_click"
				add_ideas = heavy_additional_consumption_spirit
				remove_ideas = {
					some_power_restrictions_spirit
					some_additional_consumption_spirit
					heavy_power_restrictions_spirit
				}
				ingame_update_setup = yes
			}

			build_battery_park_button_click = {
				#log = "[GetDateText]: [Root.GetName]: Energy GUI  build_battery_park_button_click"
				set_temp_variable = { temp_change = 1 }
				build_battery_park_effect = yes
			}
			buy_fuel_for_money_button_click = {
				#log = "[GetDateText]: [Root.GetName]: Energy GUI  buy_fuel_for_money_button_click"
				buy_fuel_from_the_market_effect = yes
				set_country_flag = { flag = recently_bought_fuel value = 1 days = 28 }
			}
		}

		# AI Section
		# Note: 3 days - 72 Hrs
		# Functional Notes:
		# ai_enabled - triggers that engage the AI for this GUI
		# ai_test_interval - timeframe between AI checks
		# ai_check - trigger the AI looks for to determine if it needs to look at a button
		# ai_weights - modifiers to determine AI habits
		# ai_max_weight_taken_per_test - Determines number of elements to check for the GUI

		# If you wish to see the values outputted from this, enable human_ai and debug in console, then view scripted_ai.log in the logs.

		# Summary: Every time this ai_check runs per the parameters section directly below, the AI calculates the total factor of each option (increase/lower pop and corp tax (4 options) and printing money), and chooses to do the highest option of all these. To prevent the AI from actually choosing one of the options every single time ai_check runs (to not waste PP), each option has relatively restrictive modifiers to factor which make it 0 in many situations. As a result, most time when ai_check runs it returns with 0 factor for all options, making the AI choose none of them.

		ai_enabled = { always = yes }
		ai_test_interval = 72 # 3 Days
		ai_max_weight_taken_per_test = 1
		ai_check = {
			OR = {
				has_political_power > 200
				has_fuel < 350000
			}
		}
		ai_weights = {
			### Energy stuff ###
			buy_fuel_for_money_button_click = {
				ai_will_do = {
					factor = 100
					modifier = {
						factor = 0
						has_fuel > 1000000
					}
				}
			}
			no_power_rules_button_click = {
				ai_will_do = {
					factor = 1000
					modifier = {
						factor = 0
						NOT = {
							has_idea = heavy_power_restrictions_spirit
							has_idea = some_power_restrictions_spirit
							has_idea = some_additional_consumption_spirit
							has_idea = heavy_additional_consumption_spirit
						}
					}
				}
			}

			### Economy stuff ###
			# Population Tax Rate Clicks
			increase_population_tax_click = {
				ai_will_do = {
					factor = 25
					modifier = {
						factor = 0
						tag = GER
						date < 1955.6.1
						check_variable = { population_tax_rate > 25 }
					}
					#help stupid USA
					modifier = {
						factor = 0
						tag = USA
						date < 2002.6.1
						check_variable = { population_tax_rate < 20 }
					}
					#nonono stupid AI. No click!
					modifier = {
						factor = 0
						has_stability < 0.26
						date < 1955.6.1
						check_variable = { population_tax_rate > 30 }
					}
					# General Economic Factors
					modifier = {
						set_temp_variable = { interest_rate_tmp = interest_rate }
						check_variable = { intrest_rate_tmp > -1 }
						add = interest_rate_tmp
					}
					modifier = {
						check_variable = { treasury_rate < 0 }
						factor = ai_change_population_taxes
					}
					# We are a poor country, we do not have industry. People are new gold!
					modifier = {
						factor = 1.10
						check_variable = { treasury_rate < 0 }
						has_stability > 0.45
						num_of_civilian_factories < 5
					}
					# Killswitch
					modifier = {
						factor = 0
						OR = {
							has_country_flag = temp_decrease_population_taxes
							has_country_flag = no_personal_tax_rate_change
							has_stability < 0.15 # minimal stability for all = 15%
							check_variable = { treasury_rate > 9.99 }
						}
					}
				}
			}
			decrease_population_tax_click = {
				ai_will_do = {
					factor = 25
					# Generic
					modifier = {
						set_temp_variable = { negative_interest_rate = interest_rate }
						multiply_temp_variable = { negative_interest_rate = -2 }
						check_variable = { negative_interest_rate < 1 }
						add = negative_interest_rate
					}
					modifier = {
						check_variable = { treasury_rate > 0 }
						factor = ai_change_population_taxes
					}

					# Killswitch
					modifier = {
						factor = 0
						OR = {
							has_country_flag = temp_increase_population_taxes
							has_country_flag = no_personal_tax_rate_change
							check_variable = { treasury_rate < 0 }
							check_variable = { population_tax_rate < 10 } #minimal population tax rate for all = 9
						}
					}
					# TODO: WTF IS THE POINT OF THIS
					modifier = {
						factor = 0.1
						OR = {
							has_idea = sl_unemployment_benefits1
							has_idea = sl_unemployment_benefits2
							has_idea = sl_unemployment_benefits3
							has_idea = sl_unemployment_benefits4
							has_idea = sl_unemployment_benefits5
							has_idea = sl_healthcare_system1
							has_idea = sl_healthcare_system2
							has_idea = sl_healthcare_system3
							has_idea = sl_healthcare_system4
							has_idea = sl_healthcare_system5
							has_idea = sl_healthcare_system6
							has_idea = sl_education_system1
							has_idea = sl_education_system2
							has_idea = sl_education_system3
							has_idea = sl_education_system4
							has_idea = sl_education_system5
						}
					}
				}
			}
			# Corporate Tax Rate Clicks
			increase_corporate_tax_click = {
				ai_will_do = {
					factor = 35
					modifier = {
						factor = 0
						date < 1956.6.1
						NOT = {
							tag = GER
							tag = USA
						}
						check_variable = { corporate_tax_rate > 20 }
					}
					modifier = {
						add = -10
						date < 1955.6.1
						# Makes AI focus on building more factories and not cripling itself
						num_of_available_civilian_factories < 30
					}
					modifier = {
						factor = 0
						date < 1955.6.1
						tag = GER
						check_variable = { corporate_tax_rate > 25 }
					}
					modifier = {
						factor = 0.25
						NOT = {
							has_idea = sl_unemployment_benefits5
							has_idea = sl_healthcare_system6
							has_idea = sl_education_system5
						}
						ai_has_high_surplus = no
					}
					modifier = {
						factor = 0.25
						OR = {
							tag = USA
							tag = GER
							tag = JAP
						}
						check_variable = { treasury_rate > 2.00 }
						check_variable = { treasury_rate < 10.00 }
						#ai_has_high_surplus = no
					}
					# Generic Economic
					modifier = {
						set_temp_variable = { interest_rate_tmp = interest_rate }
						check_variable = { intrest_rate_tmp > -1 }
						add = interest_rate_tmp
					}
					modifier = {
						check_variable = { treasury_rate < 0 }
						factor = ai_change_corporate_taxes
					}
					# Killswitch
					modifier = {
						factor = 0
						OR = {
							has_country_flag = temp_decrease_corporate_taxes
							has_country_flag = no_corporate_tax_rate_change
							check_variable = { treasury_rate > 9.99 }
							num_of_civilian_factories < 5
						}
					}
				}
			}
			decrease_corporate_tax_click = {
				ai_will_do = {
					factor = 25
					modifier = {
						factor = 0
						tag = GER
						check_variable = { corporate_tax_rate < 14 }
					}
					modifier = {
						factor = 0
						date > 1954.6.1
						OR = {
							tag = USA
							tag = GER
							tag = JAP
						}
						NOT = {
							has_idea = sl_unemployment_benefits5
							has_idea = sl_healthcare_system6
							has_idea = sl_education_system5
						}
						ai_has_high_surplus = no
					}
					#Let's help the stupid United States regain the ability to build factories >8)
					modifier = {
						factor = 5.0
						tag = USA
						date < 1955.6.2
						check_variable = { corporate_tax_rate > 21 }
					}
					modifier = {
						factor = 200
						tag = USA
						date < 1953.6.2
						check_variable = { corporate_tax_rate > 21 }
					}
					modifier = {
						factor = 0
						tag = USA
						date > 1953.6.1
						date < 1955.6.1
						check_variable = { corporate_tax_rate < 21 }
					}
					modifier = {
						factor = 25
						tag = USA
						date > 1956.6.1
						check_variable = { corporate_tax_rate > 21 }
					}
					# Generic Economic
					modifier = {
						set_temp_variable = { negative_interest_rate = interest_rate }
						multiply_temp_variable = { negative_interest_rate = -2 }
						add = negative_interest_rate
						always = yes
					}
					modifier = {
						check_variable = { treasury_rate > 0 }
						factor = ai_change_corporate_taxes
					}

					# Killswitch
					modifier = {
						factor = 0
						OR = {
							has_country_flag = temp_increase_corporate_taxes
							has_country_flag = no_corporate_tax_rate_change
							check_variable = { treasury_rate < 0 }
							check_variable = { corporate_tax_rate < 11 } #minimal tax rate for all = 11
						}
					}
				}
			}
			# print_money_button_click = {
			# 	ai_will_do = {
			# 		factor = 1
			# 		modifier = {
			# 			add = interest_rate
			# 		}
			# 		modifier = {
			# 			factor = 2
			# 			check_variable = { interest_rate > 20 }
			# 		}
			# 		modifier = {
			# 			factor = 0.3
			# 			check_variable = { treasury_rate > 0 }
			# 		}
			# 		modifier = {
			# 			factor = 0
			# 			# Makes AI focus on reducing the corruption levels to get more efficient tax revenue before costing precious productivity for some quick cash that is based on revenue.
			# 			OR = {
			# 				has_idea = systematic_corruption
			# 				has_idea = unrestrained_corruption
			# 				has_idea = rampant_corruption
			# 				has_idea = crippling_corruption
			# 				has_idea = paralyzing_corruption
			# 			}
			# 		}
			# 		modifier = {
			# 			factor = 0
			# 			OR = {
			# 				check_variable = { interest_rate < 13 } # Let the AI try and save themselves from growing debt without sacrificing productivity.
			# 				check_variable = { interest_rate > 35 } # No hope for the AI anymore after they have 35%+ interest rate, let them death spiral.
			# 			}
			# 		}
			# 		modifier = {
			# 			factor = 0
			# 			set_temp_variable = { interest_expense_to_total_expense_ratio = debt_rate }
			# 			divide_temp_variable = { interest_expense_to_total_expense_ratio = display_expense }
			# 			check_variable = { interest_expense_to_total_expense_ratio < 0.25 } # Doesn't print money if interest expense (debt_rate) is less than 25% of their total expenses. Possible for countries to have high interest rates but make up a minority of expenses due to high spending on welfare or health and the AI should focus on lowering those first before using PP on printing money.
			# 		}
			# 		modifier = {
			# 			factor = 0
			# 			check_variable = { printing_money_var > 4 } # Penalty probably too harsh after 4 recent prints which icreases the productivity cost of printing by 80% already.
			# 		}
			# 		modifier = {
			# 			factor = 0
			# 			check_variable = { debt < 5 } # Actual interest on debt is rounded to 0.000 when debt is $5b ish or below, even if interest rate is 50%, so no need to print if that's true (only affects microstates/countries with no GDP basically).
			# 		}
			# 	}
			# }
		}
	}
}